@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Космический фон и градиенты по ТЗ */
  --cosmic-background: radial-gradient(circle at 20% 20%, #22114a 0, rgba(5, 2, 15, 0.2) 35%)
      , radial-gradient(circle at 80% 0%, #2a1f6b 0, rgba(10, 4, 26, 0.1) 30%)
      , radial-gradient(circle at 10% 80%, #2a617b 0, rgba(5, 2, 15, 0.05) 35%)
      , radial-gradient(circle at 90% 90%, #9333ea 0, rgba(5, 2, 15, 0.05) 30%);
  --cosmic-base: #05020f;

  /* Синаптический поток — основной акцентный градиент */
  --synaptic-flow-gradient: linear-gradient(135deg, #00f2ff 0%, #ff00c1 50%, #00f2ff 100%);

  /* Градиент тепловой карты для данных */
  --heatmap-gradient: linear-gradient(90deg, #1d4ed8 0%, #22c55e 50%, #eab308 100%);

  /* Тени и обводки */
  --panel-bg: rgba(6, 6, 18, 0.9);
  --panel-border-muted: rgba(63, 63, 94, 0.9);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #05020f;
    --foreground: #ededed;
  }
}

body {
  background-color: var(--cosmic-base);
  background-image: var(--cosmic-background);
  background-attachment: fixed;
  background-size: 140% 140%;
  color: var(--foreground);
  font-family: var(--font-mono), system-ui, -apple-system, BlinkMacSystemFont,
    "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  animation: cosmic-drift 40s ease-in-out infinite alternate;
}

/* === Ambient animations === */
@keyframes softPulse {
  0%,
  100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

@keyframes glowScan {
  0% {
    transform: translateX(-120%);
    opacity: 0;
  }
  40% {
    opacity: 0.8;
  }
  100% {
    transform: translateX(120%);
    opacity: 0;
  }
}

.animate-softPulse {
  animation: softPulse 4.5s ease-in-out infinite;
}

/* === Универсальные "панели" под модули терминала === */
.panel {
  position: relative;
  border-radius: 1.5rem;
  padding: 1.5rem;
  overflow: hidden;
  background:
    linear-gradient(#05020f, #05020f) padding-box,
    var(--panel-border-muted) border-box;
  border: 1px solid transparent;
  box-shadow: 0 0 40px rgba(0, 0, 0, 0.7);
}

.panel--accent {
  background:
    linear-gradient(rgba(5, 2, 15, 0.98), rgba(6, 7, 24, 0.96)) padding-box,
    var(--synaptic-flow-gradient) border-box;
  animation: panel-glow 16s ease-in-out infinite alternate;
}

.panel--subtle {
  background:
    linear-gradient(rgba(5, 2, 15, 0.96), rgba(5, 5, 20, 0.96)) padding-box,
    linear-gradient(135deg, #1e293b, #020617) border-box;
}

/* === Таб-навигация === */
.pill-tab {
  border-radius: 9999px;
  padding: 0.35rem 0.9rem;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: radial-gradient(circle at 0 0, rgba(148, 163, 184, 0.25), transparent 55%);
  transition: background 150ms ease, border-color 150ms ease, color 150ms ease,
    box-shadow 150ms ease, transform 120ms ease;
}

.pill-tab--active {
  border-color: transparent;
  background:
    linear-gradient(#020617, #020617) padding-box,
    var(--synaptic-flow-gradient) border-box;
  box-shadow: 0 0 18px rgba(59, 130, 246, 0.4);
  transform: translateY(-1px);
}

.pill-tab--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* === Градиенты для данных / прогресса === */
.bg-synaptic {
  background-image: var(--synaptic-flow-gradient);
}

.bg-heatmap {
  background-image: var(--heatmap-gradient);
}

.text-heatmap {
  background-image: var(--heatmap-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* === Retro terminal caret for command input === */
.terminal-input-caret {
  width: 8px;
  height: 1rem;
  border-radius: 9999px;
  background-image: var(--synaptic-flow-gradient);
  animation: caret-blink 1.1s steps(1, end) infinite;
}

@keyframes caret-blink {
  0%,
  49% {
    opacity: 1;
  }
  50%,
  100% {
    opacity: 0;
  }
}

@keyframes cosmic-drift {
  0% {
    background-position: 0% 0%;
  }
  50% {
    background-position: 50% 50%;
  }
  100% {
    background-position: 100% 0%;
  }
}

@keyframes panel-glow {
  0% {
    box-shadow: 0 0 32px rgba(56, 189, 248, 0.2);
  }
  50% {
    box-shadow: 0 0 52px rgba(244, 114, 182, 0.3);
  }
  100% {
    box-shadow: 0 0 32px rgba(56, 189, 248, 0.2);
  }
}

/* === Console Log Enhancements === */
.log-container {
  position: relative;
  /* Smooth scrolling for auto-scroll behavior */
  scroll-behavior: smooth;
  /* Fade out old messages at the top */
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%);
  mask-image: linear-gradient(to bottom, transparent 0%, black 15%);
}

.log-container::-webkit-scrollbar { display: none; }
.log-container { -ms-overflow-style: none; scrollbar-width: none; }
