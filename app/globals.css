@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Космический фон и градиенты по ТЗ */
  --cosmic-background:
      radial-gradient(circle at 15% 15%, rgba(124, 58, 237, 0.15) 0, transparent 40%),
      radial-gradient(circle at 85% 85%, rgba(6, 182, 212, 0.15) 0, transparent 40%),
      radial-gradient(circle at 50% 50%, #020617 0%, #05020f 100%);
  
  --cosmic-base: #05020f;
  
  /* Сетка для ретро-футуризма */
  --grid-pattern: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
  linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);

  /* Синаптический поток — основной акцентный градиент */
  --synaptic-flow-gradient: linear-gradient(135deg, #22d3ee 0%, #e879f9 50%, #818cf8 100%);

  /* Градиент тепловой карты для данных */
  --heatmap-gradient: linear-gradient(90deg, #3b82f6 0%, #10b981 50%, #f59e0b 100%);

  --neon-cyan: #22d3ee;
  --neon-pink: #e879f9;
  --neon-violet: #8b5cf6;

  /* Тени и обводки */
  --panel-bg: rgba(10, 10, 25, 0.65);
  --panel-border-muted: rgba(255, 255, 255, 0.08);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #05020f;
    --foreground: #ededed;
  }
}

body {
  background-color: var(--cosmic-base);
  background-image: var(--cosmic-background);
  background-attachment: fixed;
  color: var(--foreground);
  font-family: var(--font-mono), system-ui, -apple-system, BlinkMacSystemFont,
    "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: var(--grid-pattern);
  background-size: 40px 40px;
  pointer-events: none;
  z-index: -1;
  opacity: 0.4;
}

/* === Ambient animations === */
@keyframes softPulse {
  0%,
  100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

@keyframes glowScan {
  0% {
    transform: translateX(-120%);
    opacity: 0;
  }
  40% {
    opacity: 0.8;
  }
  100% {
    transform: translateX(120%);
    opacity: 0;
  }
}

.animate-softPulse {
  animation: softPulse 4.5s ease-in-out infinite;
}

/* === Универсальные "панели" под модули терминала === */
.panel {
  position: relative;
  border-radius: 1.5rem;
  padding: 1.5rem;
  overflow: hidden;
  background: var(--panel-bg);
  backdrop-filter: blur(12px);
  border: 1px solid transparent;
  box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
  /* Тонкая обводка через маску */
  border-color: rgba(255, 255, 255, 0.07);
}

.panel--accent {
  background:
    linear-gradient(rgba(5, 10, 30, 0.85), rgba(5, 5, 20, 0.9)) padding-box,
    var(--synaptic-flow-gradient) border-box;
  border: 1px solid transparent;
  animation: panel-glow 16s ease-in-out infinite alternate;
}

.panel--subtle {
  background: rgba(2, 6, 23, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* === Таб-навигация === */
.pill-tab {
  border-radius: 9999px;
  padding: 0.35rem 0.9rem;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(0, 0, 0, 0.4);
  transition: background 150ms ease, border-color 150ms ease, color 150ms ease,
    box-shadow 150ms ease, transform 120ms ease;
}

.pill-tab--active {
  border-color: transparent;
  background:
    linear-gradient(rgba(20,20,40,0.9), rgba(20,20,40,0.9)) padding-box,
    var(--synaptic-flow-gradient) border-box;
  box-shadow: 0 0 20px rgba(34, 211, 238, 0.25);
  transform: translateY(-1px);
}

.pill-tab--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* === Градиенты для данных / прогресса === */
.bg-synaptic {
  background-image: var(--synaptic-flow-gradient);
}

.bg-heatmap {
  background-image: var(--heatmap-gradient);
}

.text-heatmap {
  background-image: var(--heatmap-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* === Retro terminal caret for command input === */
.terminal-input-caret {
  width: 8px;
  height: 1rem;
  border-radius: 9999px;
  background-image: var(--synaptic-flow-gradient);
  animation: caret-blink 1.1s steps(1, end) infinite;
}

@keyframes caret-blink {
  0%,
  49% {
    opacity: 1;
  }
  50%,
  100% {
    opacity: 0;
  }
}

@keyframes panel-glow {
  0% {
    box-shadow: 0 0 32px rgba(56, 189, 248, 0.2);
  }
  50% {
    box-shadow: 0 0 52px rgba(244, 114, 182, 0.3);
  }
  100% {
    box-shadow: 0 0 32px rgba(56, 189, 248, 0.2);
  }
}

/* === Console Log Enhancements === */
.log-container {
  position: relative;
  /* Smooth scrolling for auto-scroll behavior */
  scroll-behavior: smooth;
  /* Fade out old messages at the top */
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%);
  mask-image: linear-gradient(to bottom, transparent 0%, black 15%);
}

.log-container::-webkit-scrollbar { display: none; }
.log-container { -ms-overflow-style: none; scrollbar-width: none; }
